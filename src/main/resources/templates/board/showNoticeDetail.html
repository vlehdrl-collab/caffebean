<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<body>
  <section layout:fragment="content">
    <h2 th:text="${notice.title}">공지 제목</h2>
    <p>작성일: <span th:text="${#temporals.format(notice.createdDate, 'yyyy-MM-dd HH:mm')}"/></p>
    <div th:utext="${notice.content}">공지 내용</div>

    <!-- 첨부파일 다운로드 테이블 -->
    <table class="table mt-3" th:if="${notice.fileStoredName}">
      <thead>
        <tr>
          <th>첨부파일명</th>
          <th>다운로드</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td th:text="${notice.fileOriginalName}">파일명</td>
          <td>
            <a th:href="@{/notices/files/{fileName}(fileName=${notice.fileStoredName})}">다운로드</a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="mt-3">
      <a class="btn btn-secondary" th:href="@{/notices}">목록으로</a>
      <a class="btn btn-primary" th:href="@{/notices/edit/{id}(id=${notice.id})}">수정</a>
      <a class="btn btn-danger"
         th:href="@{/notices/delete/{id}(id=${notice.id})}"
         onclick="return confirm('정말 삭제하시겠습니까?');">삭제</a>
    </div>
  </section>
</body>